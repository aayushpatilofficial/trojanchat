<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>NeuraCast — Quantum White</title>
<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
<style>
:root{
    --bg:#fafafa;
    --muted:#9aa0a6;
    --accent1:#7ed0f0;
    --accent2:#f0a7d1;
    --panel: rgba(20,24,28,0.04);
}
html,body{height:100%;margin:0;background:var(--bg);font-family:Inter,system-ui,Segoe UI,Helvetica,Arial;color:#111;}
.wrap{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:28px 18px;}
header{width:100%;max-width:1000px;display:flex;justify-content:space-between;align-items:center}
h1{margin:0;font-size:18px;color:#222;letter-spacing:0.6px}
.subtitle{color:var(--muted);font-size:13px}
.core{width:100%;max-width:1000px;display:flex;align-items:center;justify-content:space-between;gap:24px;margin-top:12px}
.box{width:300px;height:320px;border-radius:12px;background:var(--panel);border:1px solid rgba(0,0,0,0.04);box-shadow:0 6px 18px rgba(10,10,10,0.03);display:flex;flex-direction:column;padding:18px;box-sizing:border-box;}
.box h2{margin:0 0 8px 0;font-size:14px;color:#222}
.log{flex:1;overflow:auto;padding-right:6px;color:#333;font-size:13px;display:flex;flex-direction:column;gap:8px}
.status{font-size:12px;color:var(--muted);margin-top:8px}
.input-area{width:100%;max-width:1000px;display:flex;justify-content:center;margin-top:18px}
input[type="text"]{width:520px;padding:12px 14px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:#fff;font-size:14px;outline:none;}
.decoded{display:inline-block;padding:8px 10px;border-radius:8px;background:rgba(126,208,240,0.12);font-size:13px;color:#0b3b46;border:1px solid rgba(126,208,240,0.18)}
</style>
</head>
<body>
<div class="wrap">
    <header>
        <div>
            <h1>NeuraCast — Quantum White</h1>
            <div class="subtitle">Multi-device Command Sync</div>
        </div>
        <div style="text-align:right">
            <div class="subtitle">Status:</div>
            <div id="conn" style="font-size:13px;color:#111">Connecting…</div>
        </div>
    </header>

    <div class="core">
        <div class="box">
            <h2>Device Console</h2>
            <div class="log" id="log"></div>
            <div class="status" id="st">Idle</div>
        </div>
    </div>

    <div class="input-area">
        <input id="input" type="text" placeholder="Type a command (press Enter to send)">
    </div>
</div>

<script>
const socket = io();
const logEl = document.getElementById('log');
const stEl = document.getElementById('st');
const input = document.getElementById('input');
const connEl = document.getElementById('conn');

socket.on('connect', ()=>{ connEl.textContent='Connected'; connEl.style.color='#0b6'; });
socket.on('disconnect', ()=>{ connEl.textContent='Disconnected'; connEl.style.color='#f33'; });

// append log
function appendLog(msg, type='normal'){
    const div = document.createElement('div');
    div.innerHTML = type==='decoded'?`<div class="decoded">${msg}</div>`:msg;
    logEl.prepend(div);
}

// handle incoming command from server
socket.on('receive_command', (data)=>{
    const cmd = data.command;
    appendLog(`<b>Received:</b> ${cmd}`, 'decoded');
    stEl.textContent = 'Executing...';
    try {
        if(cmd.startsWith('open ')){
            const url = cmd.replace('open ','');
            window.open(url,'_blank');
        } else if(cmd.startsWith('search ')){
            const query = cmd.replace('search ','');
            window.open(`https://www.google.com/search?q=${query}`,'_blank');
        } else {
            console.log('Command:', cmd);
        }
    } catch(e){ console.error(e); }
    stEl.textContent = 'Idle';
});

// send command
input.addEventListener('keydown', (e)=>{
    if(e.key==='Enter'){
        const cmd = input.value.trim();
        if(!cmd) return;
        appendLog(`<b>Sent:</b> ${cmd}`);
        stEl.textContent = 'Sent';
        socket.emit('send_command', {command: cmd});
        input.value='';
    }
});
</script>
</body>
</html>


